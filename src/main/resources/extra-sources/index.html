<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Summernote</title>
  <link href="bootstrap.min.css" rel="stylesheet">
  <script src="jquery-3.5.1.min.js"></script>
  <script src="bootstrap.min.js"></script>
  <link href="summernote.min.css" rel="stylesheet">
  <script src="summernote.min.js"></script>

</head>
<body>
  <div id="summernote"></div>

  <script>

    let initOk = false;
    const defaultTolbar = [
      ['style', ['style']],
      ['font', ['bold', 'italic', 'strikethrough']],
      ['color', ['color']],
      ['para', ['ol', 'paragraph']],
      ['table', ['table']],
      ['insert', ['picture']],
      ['view', ['codeview']],
    ];

    function inserirHTML(data) {
      app.log("asdadadsa");

      if(!initOk) {
        $('#summernote').summernote({
          height: 300,
       //   airMode: true,
          toolbar: defaultTolbar,
        });
        //     $('#summernote').summernote('insertText', card.getConteudo());
        $("#summernote").on("summernote.change", function (we, contents, $editable) {   // callback as jquery custom event
          app.log('summernote\'s content is changed.');
          app.log(we);
          app.log(contents);
          app.log($editable);
          app.updateContent(card, contents);
        });
        initOk = true;
      }

      if(data) {
        app.log(decodeURIComponent(escape(window.atob( data ))));
        $('#summernote').summernote('code', decodeURIComponent(escape(window.atob( data ))));
      }
      $('.note-toolbar').hide();
    }

    function focusIn() {
     // app.log("aqui in")
      $('.note-toolbar').show(500);
    //  app.log(" frim aqui in")
    }

    function focusOut() {
   //   app.log(" focusOut aqui focusOut")
      $('.note-toolbar').hide(500);
    //  app.log(" focusOut aqui focusOutÂ²asdas")
    }

    try {
      $(document).ready(function() {

      });
    } catch (e) {
      app.log(e)
    }
  </script>
</body>
</html>
